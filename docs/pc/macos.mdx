import YouTube from '@site/src/components/embed/youtube'
import Image from '@site/src/components/image'
import AdsByGoogle from '@site/src/components/ads-by-google'

# ZaDark for macOS

Kích hoạt Dark Mode (Chế độ tối) cho Zalo PC trên macOS.

{/* <AdsByGoogle>
  <ins
    className="adsbygoogle"
    style={{ display: 'block' }}
    data-ad-client="ca-pub-5192881442581767"
    data-ad-slot="8722903447"
    data-ad-format="auto"
    data-full-width-responsive="true"
  ></ins>
</AdsByGoogle> */}

:::tip
Nếu bạn quen thuộc với **Terminal** và **Homebrew**, chúng tôi khuyến khích bạn cài đặt ZaDark với Homebrew theo hướng dẫn [**tại đây**](#install-zadark-with-homebrew).
:::

## Hướng dẫn cài đặt ZaDark \{#install-zadark}

:::warning
Chuyển giao diện Zalo về **Sáng (Light)** trước khi cài đặt ZaDark. <a href="/blog/noti#khắc-phục-lỗi-zadark-trên-zalo-pc-24121-trở-lên" target="_blank">**Xem hướng dẫn**</a>
:::

- **Bước 1**. Tải ZaDark cho Mac <a href="/download/macos/apple-chip?utm_source=zadark&utm_medium=tutorial&utm_campaign=download_campaign" target="_blank">**Apple Chip**</a> hoặc <a href="/download/macos/intel-chip?utm_source=zadark&utm_medium=tutorial&utm_campaign=download_campaign" target="_blank">**Intel Chip**</a>
- **Bước 2.** Xem Video hướng dẫn

<YouTube videoId="9T3CHPCF_rc" title="ZaDark for macOS | Hướng dẫn cài đặt ZaDark 12.0 trở lên | zadark.com" />

:::tip
- Bạn cần cài lại ZaDark sau khi Zalo PC cập nhật phiên bản.
- **Hãy nâng cấp Zalo PC và ZaDark lên phiên mới để có trải nghiệm tốt nhất**.
:::

##  Cài đặt ZaDark với Homebrew \{#install-zadark-with-homebrew}

:::warning
Chuyển giao diện Zalo về **Sáng (Light)** trước khi cài đặt ZaDark. <a href="/blog/noti#khắc-phục-lỗi-zadark-trên-zalo-pc-24121-trở-lên" target="_blank">**Xem hướng dẫn**</a>
:::

Bạn mở **Terminal** và thực hiện theo hướng dẫn bên dưới.

### Cài đặt Homebrew \{#install-homebrew}

:::info
- Bỏ qua bước này nếu bạn đã cài đặt Homebrew.
- Bạn có thể tìm hiểu thêm về [**Homebrew**](https://brew.sh) trên Website chính thức.
:::

```bash
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
```

### Cài đặt ZaDark Formula \{#install-zadark-formula}

```bash
brew tap quaric/zadark
brew install zadark
```

### Sử dụng ZaDark Formula \{#use-zadark-formula}

:::warning Lưu ý
Bạn cần cấp quyền **Quản lý ứng dụng (App Management) cho Terminal** trước khi sử dụng ZaDark Formula.

<YouTube videoId="K8dVMS9L-3o" title="Hướng dẫn cấp quyền Quản lý ứng dụng trên macOS Ventura trở lên | zadark.com" />
:::

```bash
# Cài đặt ZaDark
zadark install

# Gỡ cài đặt ZaDark
zadark uninstall

# Kiểm tra phiên bản ZaDark
zadark -v
```

### Cập nhật ZaDark Formula \{#update-zadark-formula}

```bash
brew update && brew upgrade zadark
```

### Gỡ ZaDark Formula \{#uninstall-zadark-formula}

```bash
brew uninstall zadark
brew untap quaric/zadark
```

<AdsByGoogle>
  <ins
    className="adsbygoogle"
    style={{ display: 'block', textAlign: 'center' }}
    data-ad-layout="in-article"
    data-ad-format="fluid"
    data-ad-client="ca-pub-5192881442581767"
    data-ad-slot="6596816445"
  ></ins>
</AdsByGoogle>

## Các lỗi thường gặp \{#common-errors}

:::tip
Phần lớn các lỗi đều khắc phục bằng cách cài đặt lại Zalo PC và ZaDark. [**Xem hướng dẫn**](#other-errors)
:::

### Không nhìn thấy biểu tượng ZaDark ở thanh bên (Sidebar)

[Zalo chính thức phát hành Dark Mode](https://zadark.com/blog/zalo-chinh-thuc-ra-mat-giao-dien-dark-mode) trên Zalo PC **24.12.1** nên đã xung đột với ZaDark.

Cách nhận biết lỗi:
- Không nhìn thấy biểu tượng ZaDark ở thanh bên (Sidebar); và
- Khi rê chuột vào vị trí bên trên biểu tượng zCloud thì thấy hiện dòng chữ "Cài đặt ZaDark ...", nhưng nhấn vào không có phản hồi.

Cách khắc phục lỗi:

B1. Mở "Cài đặt Zalo" > Chọn "Giao diện (Beta)" > Chọn "Sáng"

<Image
  src={require('../../blog/zalo-chinh-thuc-ra-mat-giao-dien-dark-mode/zalo-settings-light.jpeg').default}
  alt="Chuyển giao diện Zalo về Sáng"
  caption="Chuyển giao diện Zalo về Sáng"
  isRounded
/>

B2. Tắt Zalo PC và mở lại

<Image src={require('./img/mac-quit-zalo.gif').default} alt="Tắt Zalo PC trên macOS" caption="Tắt Zalo PC trên macOS" isRounded />

### "ZaDark" cannot be opened because it is from an unidentified developer.

<Image
  src={require('./img/macos-unidentified-developer.png').default}
  alt="macos-unidentified-developer"
/>

Lỗi xảy ra vì ZaDark không thực hiện ký (codesign) và xác nhận (notarize) ứng dụng trên macOS với Apple. ZaDark có định dạng **Unix Executable File** nên không thể ký và xác nhận ứng dụng. <strong style={{ color: 'green' }}>Bạn yên tâm vì ZaDark không chứa virus, mã độc</strong>. Bạn có thể tìm hiểu thêm về [**Chính sách bảo mật**](/privacy-policy).

Cách khắc phục lỗi:

<YouTube videoId="JBjbo2aXbug" title='Hướng dẫn cài ZaDark for macOS với lệnh "sudo" | zadark.com' />

### EPERM: operation not permitted \{#macos-ventura-bug-app-management}

**macOS Ventura trở lên** yêu cầu cấp quyền Quản lý ứng dụng (App Management) để có thể thay đổi mã nguồn ứng dụng Zalo.

Cách khắc phục lỗi:

- B1. Xem Video Hướng cấp quyền Quản lý ứng dụng (App Management) cho Terminal
- B2. Cài lại ZaDark

<YouTube videoId="K8dVMS9L-3o" title="Hướng dẫn cấp quyền Quản lý ứng dụng trên macOS Ventura trở lên | zadark.com" />

### EPERM: operation not permitted, rename '/Applications/Zalo.app/Contents/Resources/app.asar' -> '/Applications/Zalo.app/Contents/Resources/app.asar.bak'

Cách khắc phục lỗi:
- B1. Tải và cài đặt lại Zalo PC [**tại đây**](https://zalo.me/pc) (<strong style={{ color: 'red' }}>KHÔNG GỠ ZALO PC</strong> vì dữ liệu có thể bị mất)
- B2. Mở Zalo PC sau khi cài đặt
- B3. Cài lại ZaDark với lệnh **sudo** theo Video Hướng dẫn bên dưới

<YouTube videoId="C6A7ftG2d78" title='Hướng dẫn cài ZaDark for macOS với lệnh "sudo" | zadark.com' />

### EBUSY: resource busy or locked / Vui long tat Zalo PC truoc khi cai dat ZaDark \{#quit-zalo-before-install-zadark}

Lỗi xảy ra khi bạn chưa tắt Zalo PC trước khi cài đặt ZaDark.

Cách khắc phục lỗi:

- B1. Tắt Zalo PC (Xem ảnh GIF bên dưới)
- B2. Chờ biểu tượng Zalo biến mất
- B3. Cài lại ZaDark

<Image src={require('./img/mac-quit-zalo.gif').default} alt="mac-quit-zalo" isRounded />

### Khong co tap tin "app.asar"

Lỗi xảy ra khi bạn từng cài ZaDark trước đó nhưng không thành công.

Cách khắc phục lỗi:
- B1. Tải và cài đặt lại Zalo PC [**tại đây**](https://zalo.me/pc) (<strong style={{ color: 'red' }}>KHÔNG GỠ ZALO PC</strong> vì dữ liệu có thể bị mất)
- B2. Mở Zalo PC sau khi cài đặt
- B3. Cài lại ZaDark

### "Zalo" will damage your computer. You should move it to the Trash.

<Image
  src={require('./img/macos-app-will-damage-your-computer-move-to-trash.png').default}
  alt="macos-app-will-damage-your-computer-move-to-trash"
  caption={<>Hình minh hoạ từ Website <a href="https://support.apple.com/en-us/HT202491">Apple Support</a></>}
/>

Lỗi xảy ra khi bạn cài ZaDark mà **chưa mở Zalo PC (lần đầu) khi cài đặt Zalo PC thành công**.

Cách khắc phục lỗi:

- B1. Tải và cài đặt lại Zalo PC [**tại đây**](https://zalo.me/pc) (<strong style={{ color: 'red' }}>KHÔNG GỠ ZALO PC</strong> vì dữ liệu có thể bị mất)
- B2. Mở Zalo PC sau khi cài đặt
- B4. Cài lại ZaDark

### Không thể gỡ ZaDark (Khôi phục Zalo gốc) \{#uninstall-zadark}

Lỗi xảy ra do các nguyên nhân sau:
- Không tồn tại tập tin `app.asar.bak`
- Quá trình cài đặt ZaDark bị lỗi

Cách khắc phục lỗi:
- B1. Tải và cài đặt lại Zalo PC [**tại đây**](https://zalo.me/pc) (<strong style={{ color: 'red' }}>KHÔNG GỠ ZALO PC</strong> vì dữ liệu có thể bị mất)
- B2. Mở Zalo PC

### Các lỗi khác \{#other-errors}

Cách khắc phục lỗi:

- B1. Tải và cài đặt lại Zalo PC [**tại đây**](https://zalo.me/pc) (<strong style={{ color: 'red' }}>KHÔNG GỠ ZALO PC</strong> vì dữ liệu có thể bị mất)
- B2. Mở Zalo PC sau khi cài đặt
- B3. Cài lại ZaDark với lệnh **sudo** theo Video Hướng dẫn bên dưới

<YouTube videoId="C6A7ftG2d78" title='Hướng dẫn cài ZaDark for macOS với lệnh "sudo" | zadark.com' />

:::tip
[**Nhấn vào đây**](../contact.mdx) để liên hệ với chúng tôi nếu bạn vẫn không khắc phục được lỗi.
:::
